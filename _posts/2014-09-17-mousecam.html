---
layout: cutcam
title:  "mousecam"
date:   2014-09-17 18:12:21 -0500
filename: "2014-09-17-mousecam.html"
categories: other
---


// var ctx;

var cursor = {
  x: 0,
  y: 0
};

processing.setup = function() {
  processing.background(255);
  processing.noStroke();
  processing.frameRate( 120 );
  // init();
  // ctx = processing.externals.context;
  console.log(width, height);
};

processing.draw = function() {
  var color = videoInstance.get(Math.round(cursor.x), Math.round(cursor.z));
  // console.log (cursor, color);
  processing.fill(color);
  img.resize(width,0);
  processing.ellipse(cursor.x, cursor.z, Math.abs(cursor.y) / 2, Math.abs(cursor.y) / 2);
  // processing.image(img, 0, 0);
};

processing.keyPressed = function() {
  console.log(processing.key);
};

processing.mousePressed = function() {

};

processing.mouseReleased = function() {

};

leapFunction = function() {
  // If the Leap Motion library is available, set up our
  // Leap loop. Will only be called if a controller is
  // available, though

  if (typeof Leap !== "undefined") {

    // Setup Leap loop with frame callback function
    console.log("LEAP!!");
    Leap.loop(function (frame) {

      if (frame.hands.length > 0) {
        var hand = frame.hands[0];

        cursor = {
          x: hand.sphereCenter[0] * 4 + halfWidth,  // x axis, horizontal
          y: hand.sphereCenter[1] * -1, // y axis, vertical, must be inverted
          z: hand.sphereCenter[2] * 4 + halfHeight // z axis, depth
        };
      }
    })
  }
};

loadPlugins = function() {
  $.getScript("//js.leapmotion.com/leap-plugins-0.1.7.min.js", leapFunction);
} ;
$.getScript("//cdnjs.cloudflare.com/ajax/libs/leapjs/0.6.1/leap.min.js", loadPlugins);
